<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="main"></div>
  </body>
  <script>
    function camelToTitleCase(str) {
      str = str.replace(str[0], String.fromCharCode(str[0].charCodeAt(0) - 32));

      let arr = str.split("");
      for (let i = 0; i < arr.length - 1; i++) {
        const ascii = arr[i + 1].charCodeAt();
        if (ascii >= 65 && ascii <= 90) {
          arr.splice(i + 1, 0, " ");
          i++;
        }
      }

      return arr.join("");
    }

    function createTable(arr, element) {
      const keys = Object.keys(arr[0]);
      let html = "<table border='1'>";

      html +=
        "<thead>" +
        keys
          .map((key) => {
            return `<td>${camelToTitleCase(key)}</td>`;
          })
          .join("") +
        "</thead>";

      html +=
        "<tbody>" +
        arr
          .map((item) => {
            return (
              "<tr>" +
              keys
                .map((key) => {
                  return "<td>" + item[key] + "</td>";
                })
                .join("") +
              "</tr>"
            );
          })
          .join("") +
        "</tbody>";

      html += "</table>";
      element.innerHTML = html;
    }

    const languages = [
      { name: "JavaScript", releaseDate: 1995, fileExtension: ".js", creator: "Brendan Eich" },
      { name: "Java", releaseDate: 1995, fileExtension: ".java", creator: "James Gosling" },
      { name: "PHP", releaseDate: 1995, fileExtension: ".php", creator: "Rasmus Lerdorf" },
      { name: "C++", releaseDate: 1985, fileExtension: ".cpp", creator: "Bjarne Stroustrup" },
    ];

    const mainElement = document.getElementById("main");
    createTable(languages, mainElement);
  </script>
</html>
